<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

<title>Eddie Hearn | Data Analysis 2 </title>
<link rel="icon" type="image/x-icon" href="../../favicon.ico">
<meta charset="utf-8">
  <meta name="description" content="Data analysis">
  <meta name="keywords" content="political science, international relations, academic research, Stata, programming">
  <meta name="author" content="Eddie Hearn">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<STYLE TYPE="text/css">
ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  overflow: hidden;
  background-color: #333;
}

li {
  float: left;
}

li a {
  display: block;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

li a:hover {
  background-color: #111;
}

<!--
BODY
    {
    padding-top: 2%;  
    padding-bottom: 10%;    
    padding-left: 7%;
    padding-right: 7%;
	background-color: #C0C0C0;
    }
-->
code {
  font-family: Consolas,"courier new";
  color: blue;
  background-color: #C0C0C0;
  padding: 2px;
  font-size: 105%;
}

file {
  font-family: Consolas,"courier new";
  color: crimson;
  background-color: #C0C0C0;
  padding: 2px;
  font-size: 105%;
}

.borderexample {
 border-width:3px;
 border-style:solid;
 border-color:#287EC7;
}

</style>
<header>
  <h1 align="center">Data analysis 2 (Basic loop)</h1>
</header>
<body>
<ul>
  <li><a class="active" href="seminar.html">Seminar Home</a></li>
  <li><a href="stata-zem1.html"">Previous (Introduction) </a></li>
  <li><a href="#macros">Local macros </a></li>
  <li><a href="#true">While true loop</a></li>
  <li><a href="#values">Forvalues loop</a></li>
  <li><a href="#each">Foreach loop</a></li>
  <li><a href="stata-zem3.html"">Next (Do-files) </a></li>
</ul>

<h1 id="macros">Macros </h1> 

<table border="0" WIDTH="100%" >
    <TR ALIGN="left">
        <th style="width:30%"> command </th>
        <th style="width:50%"> [action] </th>
    </tr>
    <TR ALIGN="left">
        <td style="width:30%">2.1. <a href="https://www.stata.com/manuals/pmacro.pdf"> local</a> <em>macro-name</em>  <em>value</em></td>
        <td style="width:50%"> [ stores <em>value</em> under <em>macro-name</em> ] </td> 
    </tr>
    <TR ALIGN="left">
        <td style="width:30%">2.2. <a href="https://www.stata.com/manuals13/psleep.pdf"> sleep</a> <em>milliseconds</em> </td>
        <td style="width:50%"> [ wait <em>milliseconds</em> before executing next command ] </td> 
    </tr>
    <TR ALIGN="left">
        <td style="width:30%">2.3. <a href="https://www.stata.com/manuals13/pwhile.pdf"> while</a> <em>expression</em> </td>
        <td style="width:50%"> [ executes command if <em>expression</em> is true] </td> 
    </tr>
    <TR ALIGN="left">
        <td style="width:30%">2.4. <a href="https://www.stata.com/manuals13/pforvalues.pdf"> forvalues</a> <em>macro-name</em> =  <em>range</em></td>
        <td style="width:50%"> [ executes command if value of <em>macro</em> is in <em>range</em> ] </td> 
    </tr>
    <TR ALIGN="left">
        <td style="width:30%">2.5. <a href="https://www.stata.com/manuals13/pforeach.pdf"> foreach</a> <em>macro-name</em> =  <em>list</em></td>
        <td style="width:50%"> [ executes command for each element of <em>macro</em> ] </td> 
    </tr>
</table>

<p>Make a local macro using a string (words): </p>
<p style="border-width:1px; border-style:solid; border-color:green; padding: .5em;"> &nbsp &nbsp  <code>local</code> name <file>"John"</file></p>

<p>Print local macro "name": </p>
<p style="border-width:1px; border-style:solid; border-color:green; padding: .5em;"> &nbsp &nbsp  <code>display</code> <file>"`name'"</file></p>

<p>Make a local macro using numbers: </p>
<p style="border-width:1px; border-style:solid; border-color:green; padding: .5em;"> &nbsp &nbsp  <code>local</code> age = 31</p>

<p>Print local macro age: </p>
<p style="border-width:1px; border-style:solid; border-color:green; padding: .5em;"> &nbsp &nbsp  <code>display</code> <file>`age'</file></p>

<p>Print both local macro: </p>
<p style="border-width:1px; border-style:solid; border-color:green; padding: .5em;"> &nbsp &nbsp  <code>display</code> <file>"`name' is `age' years old"</file></p>

<h2 id="true">Basic loop using while true</h2>
<p style="border-width:1px; border-style:solid; border-color:green; padding: .5em;"> &nbsp &nbsp  <code>local i = 1 </code> </p> <mark>counter set to 1</mark>
<p style="border-width:1px; border-style:solid; border-color:green; padding: .5em;"> &nbsp &nbsp  <code>while</code>  <file>`i'</file>< 10 {  <br>
&nbsp &nbsp<code> display</code> <file>"hello world `i'"</file><br>
&nbsp &nbsp<code> local</code> i = <file>`i'</file>+ 1<br>
&nbsp &nbsp<code> sleep</code> 1000<br>
&nbsp &nbsp }</p>
    
<h2 id="values">Basic loop using forvalues</h2>
<p style="border-width:1px; border-style:solid; border-color:green; padding: .5em;"> &nbsp &nbsp  <code>forvalues</code>  i = 1/10 {  <br>
&nbsp &nbsp<code> display</code> <file>"hello world `i'"</file><br>
&nbsp &nbsp<code> sleep</code> 1000<br>
&nbsp &nbsp }</p>

<p>Counting by 2: </p>
<p style="border-width:1px; border-style:solid; border-color:green; padding: .5em;"> &nbsp &nbsp  <code>forvalues</code>  i = 1(2)10 {  <br>
&nbsp &nbsp<code> display</code> <file>"hello world `i'"</file><br>
&nbsp &nbsp<code> sleep</code> 1000<br>
&nbsp &nbsp }</p>

<h2 id="each">Basic loop using foreach</h2>
<p>Create list of juice </p>
<p style="border-width:1px; border-style:solid; border-color:green; padding: .5em;"> &nbsp &nbsp  <code>local</code> juice <file>"apple orange grape"</file></p>
<p>loop over each element of list "juice" </p>
<p style="border-width:1px; border-style:solid; border-color:green; padding: .5em;"> &nbsp &nbsp  <code>foreach</code>  i in <file>`juice'</file>  {  <br>
&nbsp &nbsp<code> display</code> <file>"`i' juice"</file><br>
&nbsp &nbsp<code> sleep</code> 1000<br>
&nbsp &nbsp }</p>

</body>
</html>
